---
- name: Task Banner
  debug:
      msg: |

          +-----------------------------------------------------------------------------------------------------------------------------------+

          ‚óè Updating System

- name: Update & Upgrade System
  apt:
      update_cache: yes
      cache_valid_time: 3600
      upgrade: dist
      autoremove: yes
      purge: yes
  become: true

- name: Check if Reboot is Required
  stat:
      path: /var/run/reboot-required
  register: reboot_required

- name: Notify Reboot Requirement
  debug:
      msg: 'System requires a reboot to apply kernel updates.'
  when: reboot_required.stat.exists
